function Firework(){this.hu=random(255),this.firework=new Particle(random(width),height,this.hu,!0),this.exploded=!1,this.particles=[],this.done=function(){return!(!this.exploded||0!==this.particles.length)},this.update=function(){this.exploded||(this.firework.applyForce(gravity),this.firework.update(),this.firework.vel.y>=0&&(this.exploded=!0,this.explode()));for(var i=this.particles.length-1;i>=0;i--)this.particles[i].applyForce(gravity),this.particles[i].update(),this.particles[i].done()&&this.particles.splice(i,1)},this.explode=function(){for(var i=0;i<100;i++){var t=new Particle(this.firework.pos.x,this.firework.pos.y,this.hu,!1);this.particles.push(t)}},this.show=function(){colorMode(HSB),this.exploded||this.firework.show();for(var i=0;i<this.particles.length;i++)this.particles[i].show()}}
