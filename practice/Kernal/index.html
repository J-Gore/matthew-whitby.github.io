<html>
  <head lang="en">
    <title>KernalGen</title>
    <meta charset="UTF-8">
  </head>
<body>
  <b><u><h1 style="text-align:center;">Simple Kernal Gen (For Comp Vision)</h1></u></b>
  <div id="generator"></div>
    <input type="text" id="inputText">
    <select id="kernalType">
      <option selected value="cross">Cross</option>
      <option value="ones">Ones</option>
    </select>
    <button type="button" onclick="Generate()">Generate</button><br>
    <textarea id="answer"></textarea>
    <script>
        function Generate(){
          let NbyM=document.getElementById("inputText").value;
          if(NbyM%2==1){
            let answerBox=document.getElementById("answer");
            let selectionBox=document.getElementById("kernalType");
            let selectedOption=selectionBox.options[selectionBox.selectedIndex].value;
            switch(selectedOption){
              case "cross":
                answerBox.value=GenerateCross(NbyM);
              break;
              case "ones":
                answerBox.value=GenerateOnes(NbyM);
              break;
            }
            
          }else alert("Please make number odd");
        }

        function GenerateCross(NbyM){
          let answerText="crossKernal"+NbyM+"=[";
          let middle=(NbyM+1)/2;
          console.log("NbyM: "+NbyM);
          console.log("NbyM+1: "+NbyM+1);
          console.log("(NbyM+1)/2: "+(NbyM+1)/2);
          for(var i=0;i<NbyM;i++){//rows
            let numOf0;
            if(i>=middle)numOf0=i-middle;
            else numOf0=i;
            console.log("middle: "+middle);
            console.log("i: "+i);
            console.log("numOf0: "+numOf0);
            for(var j=0;j<middle-1-numOf0;j++){
              answerText+="0,";
            }
            for(var j=0;j<i+1;j++){
              answerText+="1";
              if(i!=middle-1)answerText+=",";
              else answerText+=";\r\n";
            }
            for(var j=0;j<middle-1-numOf0;j++){
              answerText+="0";
              if(i!=NbyM-1)answerText+=",";
              else if(i!=NbyM-1)answerText+=";\r\n";
              else answerText+=";";
            }
          }
          return answerText;
        }

        function GenerateOnes(NbyM){
          let answerText="onesKernal"+NbyM+"=[";
          for(var i=0;i<NbyM;i++){
            for(var j=0;j<NbyM;j++){
              answerText+="1";
              if(j!=NbyM-1)answerText+=",";
              else if(i!=NbyM-1)answerText+=";\r\n";
              else answerText+=";";
            }
          }
          answerText+="];";
          return answerText;
        }
    </script>
  </body>
</html>