<html>
  <head lang="en">
    <title>KernalGen</title>
    <meta charset="UTF-8">
  </head>
<body>
  <b><u><h1 style="text-align:center;">Simple Kernal Gen (For Comp Vision)</h1></u></b>
  <div id="settings">
    <input type="text" id="inputText">
    <select id="kernalType">
      <option selected value="diamond">Diamond</option>
      <option value="ones">Ones</option>
      <option value="cross">Cross</option>
    </select>
    <button type="button" onclick="Generate()">Generate</button>
  </div>
    <br>
    <textarea id="answer"></textarea>
    <script>
      var select = document.getElementById("KernalType");
      select.addEventListener('change',function(){
        alert("Changed");
        var sizeText=document.createElement("input");
        sizeText.type="text";
        sizeText.id="crossSize";
        document.getElementById("settings").appendChile(sizeText);
      });
    </script>
    <script>
        function Generate(){
          let NbyM=parseInt(document.getElementById("inputText").value);
          if(NbyM%2==1){
            let answerBox=document.getElementById("answer");
            let selectionBox=document.getElementById("kernalType");
            let selectedOption=selectionBox.options[selectionBox.selectedIndex].value;
            switch(selectedOption){
              case "diamond":answerBox.value=GenerateDiamond(NbyM);break;
              case "ones":answerBox.value=GenerateOnes(NbyM);break;
              case "cross":answerBox.value=GenerateCross(NbyM);break;
            }
          }else alert("Please make number odd");
        }
        function GenerateDiamond(NbyM){
          let answerText="diamondKernal"+NbyM+"=[";
          let middle=(NbyM+1)/2;
          for(var i=0;i<NbyM;i++){
            let numOf0;
            if(i>=middle)numOf0=NbyM-i-1;
            else numOf0=i;
            for(var j=0;j<middle-1-numOf0;j++)answerText+="0,";
            for(var j=0;j<(2*numOf0)+1;j++){
              answerText+="1";
              if(j!=NbyM-1)answerText+=",";
              else answerText+=";\r\n";
            }
            for(var j=0;j<middle-1-numOf0;j++){
              answerText+="0";
              if(j!=middle-2-numOf0)answerText+=",";
              else if(i!=NbyM-1)answerText+=";\r\n";
              else answerText+=";";
            }
          }
          return answerText+="];";
        }
        function GenerateCross(NbyM){
          let answerText="corssKernal"+NbyM+"=[";

          return answerText+="];";
        }
        function GenerateOnes(NbyM){
          let answerText="onesKernal"+NbyM+"=[";
          for(var i=0;i<NbyM;i++){
            for(var j=0;j<NbyM;j++){
              answerText+="1";
              if(j!=NbyM-1)answerText+=",";
              else if(i!=NbyM-1)answerText+=";\r\n";
              else answerText+=";";
            }
          }
          return answerText+="];";
        }
    </script>
  </body>
</html>